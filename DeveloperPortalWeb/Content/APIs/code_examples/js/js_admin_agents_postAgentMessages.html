<pre class="prettyprint linenums">
function PostAgentMessages(message,startDate,subject,targetId,targetType,validUntil,expireMinutes){

var postData  = {
  "agentMessages": [
    {
      "message":  message ,
      "startDate":  startDate ,
      "subject":  subject ,
      "targetId":  targetId ,
      "targetType":  targetType ,
      "validUntil":  validUntil  ,
      "expireMinutes": expireMinutes 
    }
  ]
}
    $.ajax({
        //The baseURI variable is created by the result.resource_server_base_uri,
        //which is returned when getting a token and should be used to create the URL base
        'url': baseURI + '/services/{version}/agents/messages',
        'type': 'POST',
        'headers': {
            //Use access_token previously retrieved from inContact token service
            'Authorization': 'bearer ' + accessToken,
            'content-Type': 'application/json; charset=UTF-8'
        },
        'data': JSON.stringify(postData),
        'success': function (result, status, statusCode) {
            //Process success actions
            return result;
        },
        'error': function (XMLHttpRequest, textStatus, errorThrown) {
            //Process error actions
            return false;
        }
    });
}
</pre>