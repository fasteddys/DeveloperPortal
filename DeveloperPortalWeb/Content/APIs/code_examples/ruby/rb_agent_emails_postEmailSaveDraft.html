<pre class="prettyprint linenums">
def PostEmailSaveDraft()
  if($accessToken!='')
	uri= URI.parse(($baseURI)+'/services/{version}/agent-sessions/'+($sessionId)+'/interactions/'+($contactId)+'/email-save-draft')
	headers = 
	{ "Accept" => "application/json, text/javascript, */*; q=0.01",
	"Authorization" => "bearer " + ($accessToken),
	"Content-Type" => "application/json",
	"Data-Type" => "json",
	"Content-Length" => "0",
	"Accept-Encoding" => "gzip,deflate"}
	body =
	{
	"toAddress"=> "",
	"fromAddress"=> "",
	"ccAddress"=> " ",
	"bccAddress"=> "",
	"campaignId"=> "",
	"subject"=> "",
	"bodyHtml"=> "",
	"attachments"=> "",
	"attachmentNames"=> "",
	"draftEmailGuidStr"=> "",
	"primaryDispositionId"=> "",
	"secondaryDispositionId"=> "",
	"tags"=> "",
	"notes"=> "",
	"originalAttachmentNames"=> ""
	}
	params= body.to_json
	# Set up an HTTP object.
	http = Net::HTTP.new uri.host, uri.port
	# puts headers
	# Make the request.
	res = http.post(uri.path,params, headers)
  else
	# Returns the error code
	end
	end
</pre>