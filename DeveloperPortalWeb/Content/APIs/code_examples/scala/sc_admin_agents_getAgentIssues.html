<pre class="prettyprint linenums">
// importing the scalaj-http library
package scalaj.http

object getAgentsIssues {
	def getAgentsIssues() {
       //Give the specified url ,accessToken
       
        val accessToken = "";
	    val baseURI = "";
		 
       //Check if accessToken is empty or null
		 if(accessToken!= null && !accessToken.isEmpty()){
			//Add all necessary headers and Make the http request
		    val response = Http( baseURI +"/services/{version}/agents/issues")
					.params("searchString"->"string",
					"fields"-> "string",
                    "skip"-> "integer",
                    "top"-> "integer",
                    "orderBy"-> "string",
                    "isClosed"-> "Boolean - true or false",
                    "agentName"-> "string",
                    "issueType"-> "string",
                    "teamName"-> "string",
                    "startDate"-> "string",
                    "endDate"-> "string")
				.headers(("Authorization", "Bearer " + accessToken),("content-type", "application/json"))
				.asString
			//TODO-> the response comes back as a JSON document. Replace the following code with your preferred JSON //package to handle the response appropriately
		
          	println(response);
		 }
      else{
			   //No token - get one or handle error
		 }
	}
}
</pre>