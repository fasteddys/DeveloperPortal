<pre class="prettyprint linenums">
    import java.io.BufferedReader;
    import java.io.File;
    import java.io.FileNotFoundException;
    import java.io.FileWriter;
    import java.io.IOException;
    import java.io.InputStream;
    import java.io.InputStreamReader;
    import java.io.OutputStream;
    import java.io.PrintWriter;
    import java.lang.reflect.Type;
    import java.net.URL;
    import javax.net.ssl.HttpsURLConnection;
    import com.google.gson.Gson;
    import com.google.gson.reflect.TypeToken;
    import java.util.Map;
    import java.util.Properties;
    import java.util.stream.Collectors;

    public void getTeamsAgentbyTeamId(String teamId, String searchString, String fields, String skip, String top, String orderBy,String updatedSince) throws IOException {
    final String API_PATH = "/teams/"+teamId+"/agents";
    final String API_URL = "services/v15.0" + API_PATH;
    if (ACCESS_TOKEN_PROPERTY!= null) {
    HttpsURLConnection urlConnection = (HttpsURLConnection) (new URL(
    (RESOURCE_SERVER_BASE_URI_PROPERTY) + API_URL).openConnection());
    urlConnection.setRequestProperty(AUTHORIZATION_HEADER, AUTHORIZATION_BEARER_PREFIX + ACCESS_TOKEN_PROPERTY);
    urlConnection.setRequestProperty(ACCEPT_HEADER, APPLICATION_JSON_VALUE);
    urlConnection.setRequestProperty(CONTENT_TYPE_HEADER, APPLICATION_JSON_VALUE);
    urlConnection.setRequestProperty("fields", fields);
    urlConnection.setRequestProperty("skip", skip);
    urlConnection.setRequestProperty("top", top);
    urlConnection.setRequestProperty("orderBy", orderBy);
    urlConnection.connect();
    int responseCode = urlConnection.getResponseCode();
    String responseLine = urlConnection.getResponseMessage();
			
    construct("Admin","Agents","GET /teamsbyIdAgents",CLUSTER + "V15.0" ,responseCode,responseLine);
    } else {
    // No token - get one or handle error
    }
    }

</pre>